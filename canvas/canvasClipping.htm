<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Basic Shapes Test</title>
<script src="modernizr.js"></script>
<script type="text/javascript">
window.addEventListener("load", eventWindowLoaded, false);

var Debugger = function() {};
Debugger.log = function(message) {
  try {
    console.log(message);
  } 
  catch(exception) {
    return;
  }
}

function eventWindowLoaded() {
  canvasApp();
}

function canvasSupport() {
  return Modernizr.canvas;
}

function eventWindowLoaded() {
  canvasApp();
}

function canvasApp() {
  if(!canvasSupport()) {
    return;
  }

  var shapesCanvas = document.getElementById("shapesCanvas");
  var context = shapesCanvas.getContext("2d");

  initCanvas();
  function initCanvas() {
    drawScreen();
  }

  function drawScreen() {
    // draw a big box on the screen
    context.fillStyle = "black";
    context.fillRect(10,10,200,200);
    context.save();
    context.beginPath();

    // clip the canvas to a 50x50 square starting at 0,0
    context.rect(0,0,50,50);
    context.clip();

    // red circle
    context.beginPath();
    context.strokeStyle = "red";
    context.lineWidth = 5;
    context.arc(100,100,100,0,Math.PI*2,false);
    // full circle
    context.stroke();
    context.closePath();

    context.restore();

    // reclip to the entire canvas
    context.beginPath();
    context.rect(0,0,500,500);
    context.clip();

    // draw a blue line that is not clipped
    context.beginPath();
    context.strokeStyle = "blue";
    context.lineWidth = 5;
    context.arc(100,100,50,0,Math.PI*2,false);
    // full circle
    context.stroke();
    context.closePath();
  }
}
</script>
</head>

<body>
  <div style="position:absolute; top: 50px; left: 50px;">
    <canvas id="shapesCanvas" width="700" height="300">
    Your Browser does not support the HTML5 Canvas.
    </canvas>
  </div>
</body>

</html>
